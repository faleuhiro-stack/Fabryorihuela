<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Repertorio | Fabry Orihuela</title>
  <style>
    :root{ --bg:#0b0b0f; --card:#14141c; --txt:#f3f3f5; --muted:#a7a7b3; --red:#e11d2e; }
    body{ margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial; background:var(--bg); color:var(--txt); }
    header{ padding:18px 16px 10px; }
    h1{ margin:0 0 6px; font-size:22px; }
    p{ margin:0; color:var(--muted); font-size:14px; }
    .wrap{ padding:12px 16px 28px; }
    .topbar{ display:flex; gap:10px; align-items:center; margin:14px 0; }
    input{ flex:1; padding:12px 12px; border-radius:12px; border:1px solid #2a2a35; background:#0f0f16; color:var(--txt); }
    .btn{ padding:12px 14px; border-radius:12px; border:0; background:var(--red); color:white; font-weight:700; }
    .btn.secondary{ background:#232334; color:var(--txt); border:1px solid #2a2a35; }
    .list{ display:grid; gap:10px; }
    .item{ background:var(--card); border:1px solid #232334; border-radius:14px; padding:12px; display:flex; justify-content:space-between; align-items:center; }
    .song{ font-weight:700; }
    .artist{ color:var(--muted); font-size:13px; margin-top:2px; }
    .pill{ font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid #2a2a35; background:#101018; color:var(--muted); }
    .empty{ color:var(--muted); margin-top:12px; }
    a{ color:inherit; text-decoration:none; }
  </style>
</head>
<body>
  <header>
    <h1>üé∂ Repertorio disponible</h1>
    <p>Busca y elige una canci√≥n. (Luego te lleva a confirmar el pedido)</p>
  </header>

  <div class="wrap">
    <div class="topbar">
      <input id="q" placeholder="Buscar canci√≥n o artista‚Ä¶" autocomplete="off" />
      <a class="btn secondary" href="index.html">‚Üê Volver</a>
    </div>

    <div id="list" class="list"></div>
    <div id="empty" class="empty" style="display:none;">No encontr√© resultados.</div>
  </div>

  <script>
    // ‚úÖ EDITA AQU√ç tu repertorio (puedes ir agregando)
    const SONGS = [
      { title: "Rayando el Sol", artist: "Man√°" },
      { title: "De M√∫sica Ligera", artist: "Soda Stereo" },
      { title: "Lamento Boliviano", artist: "Los Enanitos Verdes" },
      { title: "Persiana Americana", artist: "Soda Stereo" },
      { title: "Oye Mi Amor", artist: "Man√°" },
    ];

    const listEl = document.getElementById("list");
    const emptyEl = document.getElementById("empty");
    const qEl = document.getElementById("q");

    function render(filter="") {
      const f = filter.trim().toLowerCase();
      const rows = SONGS.filter(s =>
        (s.title + " " + s.artist).toLowerCase().includes(f)
      );

      listEl.innerHTML = "";
      emptyEl.style.display = rows.length ? "none" : "block";

      rows.forEach(s => {
        const div = document.createElement("div");
        div.className = "item";
        div.innerHTML = `
          <div>
            <div class="song">${escapeHtml(s.title)}</div>
            <div class="artist">${escapeHtml(s.artist)}</div>
          </div>
          <a class="btn" href="confirmar.html?cancion=${encodeURIComponent(s.title)}&artista=${encodeURIComponent(s.artist)}">Pedir</a>
        `;
        listEl.appendChild(div);
      });
    }

    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    }

    qEl.addEventListener("input", e => render(e.target.value));
    render();
  </script>
</body>
</html>
